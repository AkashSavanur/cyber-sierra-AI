{"ast":null,"code":"var _jsxFileName = \"/Users/akashsavanur/Desktop/cyber-sierra/Frontend/src/Pages/HistoryPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Typography, Box, Paper, Button, Chip, Divider } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HistoryPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [history, setHistory] = useState([]);\n  useEffect(() => {\n    fetchHistory();\n  }, []);\n  const fetchHistory = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:8000/api/history\");\n      setHistory(res.data.history || []);\n    } catch (err) {\n      console.error(\"Error fetching history:\", err);\n    }\n  };\n  const handleReuse = item => {\n    navigate(\"/llm\", {\n      state: {\n        files: item.filenames || [],\n        prefillPrompt: item.prompt\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 4,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Prompt History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      mb: 3,\n      children: \"See all your previous questions and responses.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), history.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n      children: \"No prompts submitted yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this) : history.map(item => /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 2,\n        mb: 2,\n        backgroundColor: \"#fafafa\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle2\",\n        gutterBottom: true,\n        children: [\"Prompt: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: item.prompt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"text.secondary\",\n        children: [\"Timestamp: \", new Date(item.timestamp).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), item.filenames && item.filenames.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n        mt: 1,\n        display: \"flex\",\n        gap: 1,\n        flexWrap: \"wrap\",\n        children: item.filenames.map((file, idx) => /*#__PURE__*/_jsxDEV(Chip, {\n          label: file,\n          size: \"small\"\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this), item.feedback && /*#__PURE__*/_jsxDEV(Typography, {\n        mt: 1,\n        variant: \"body2\",\n        children: [\"Feedback: \", item.feedback === \"useful\" ? \"üëç Useful\" : \"üëé Not useful\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          my: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        variant: \"outlined\",\n        onClick: () => handleReuse(item),\n        children: \"Reuse Prompt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(HistoryPage, \"ERz2Q/oXdgRUUaYwKgxx+sVviAY=\", false, function () {\n  return [useNavigate];\n});\n_c = HistoryPage;\nexport default HistoryPage;\nvar _c;\n$RefreshReg$(_c, \"HistoryPage\");","map":{"version":3,"names":["React","useEffect","useState","Typography","Box","Paper","Button","Chip","Divider","useNavigate","axios","jsxDEV","_jsxDEV","HistoryPage","_s","navigate","history","setHistory","fetchHistory","res","get","data","err","console","error","handleReuse","item","state","files","filenames","prefillPrompt","prompt","p","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","mb","length","map","sx","backgroundColor","color","Date","timestamp","toLocaleString","mt","display","gap","flexWrap","file","idx","label","size","feedback","my","onClick","id","_c","$RefreshReg$"],"sources":["/Users/akashsavanur/Desktop/cyber-sierra/Frontend/src/Pages/HistoryPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Typography,\n  Box,\n  Paper,\n  Button,\n  Chip,\n  Divider,\n} from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst HistoryPage = () => {\n  const navigate = useNavigate();\n  const [history, setHistory] = useState([]);\n\n  useEffect(() => {\n    fetchHistory();\n  }, []);\n\n  const fetchHistory = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:8000/api/history\");\n      setHistory(res.data.history || []);\n    } catch (err) {\n      console.error(\"Error fetching history:\", err);\n    }\n  };\n\n  const handleReuse = (item) => {\n    navigate(\"/llm\", {\n      state: {\n        files: item.filenames || [],\n        prefillPrompt: item.prompt,\n      },\n    });\n  };\n\n  return (\n    <Box p={4}>\n      <Typography variant=\"h4\" gutterBottom>\n        Prompt History\n      </Typography>\n      <Typography variant=\"body1\" mb={3}>\n        See all your previous questions and responses.\n      </Typography>\n\n      {history.length === 0 ? (\n        <Typography>No prompts submitted yet.</Typography>\n      ) : (\n        history.map((item) => (\n          <Paper key={item.id} sx={{ p: 2, mb: 2, backgroundColor: \"#fafafa\" }}>\n            <Typography variant=\"subtitle2\" gutterBottom>\n              Prompt: <strong>{item.prompt}</strong>\n            </Typography>\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              Timestamp: {new Date(item.timestamp).toLocaleString()}\n            </Typography>\n\n            {item.filenames && item.filenames.length > 0 && (\n              <Box mt={1} display=\"flex\" gap={1} flexWrap=\"wrap\">\n                {item.filenames.map((file, idx) => (\n                  <Chip key={idx} label={file} size=\"small\" />\n                ))}\n              </Box>\n            )}\n\n            {item.feedback && (\n              <Typography mt={1} variant=\"body2\">\n                Feedback: {item.feedback === \"useful\" ? \"üëç Useful\" : \"üëé Not useful\"}\n              </Typography>\n            )}\n\n            <Divider sx={{ my: 2 }} />\n\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              onClick={() => handleReuse(item)}\n            >\n              Reuse Prompt\n            </Button>\n          </Paper>\n        ))\n      )}\n    </Box>\n  );\n};\n\nexport default HistoryPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}